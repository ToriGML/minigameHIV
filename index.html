<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.1/dist/mindar-image-aframe.prod.js"></script>
    <title>Document</title>
</head>

<body>
    <a-scene mindar-image="imageTargetSrc: ./pingu.mind" color-space="sRGB"
        renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false">
        <a-assets>

        </a-assets>

        <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
        <a-entity mindar-image-target="targetIndex: 0" id="fase01">
        </a-entity>
        <a-entity mindar-image-target="targetIndex: 1" id="fase02">
        </a-entity>
        <a-entity mindar-image-target="targetIndex: 2" id="fase03">
        </a-entity>
        <a-entity mindar-image-target="targetIndex: 3" id="fase04">
        </a-entity>
        <a-entity mindar-image-target="targetIndex: 4" id="fase05">
        </a-entity>
        <a-entity mindar-image-target="targetIndex: 5" id="fase06">
        </a-entity>
        <a-entity mindar-image-target="targetIndex: 6" id="fase07">
        </a-entity>
        <a-entity mindar-image-target="targetIndex: 7" id="fase08">
        </a-entity>
        <a-entity mindar-image-target="targetIndex: 8" id="fase09">
        </a-entity>
        <a-entity mindar-image-target="targetIndex: 9" id="fase10">
        </a-entity>
        <div id="container"
            style="position: absolute; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.26);">

        </div>
    </a-scene>

    <script>

        const colors = ['red', 'blue', 'green', 'yellow', 'purple', 'orange', "black", "white"];

        const cores = (correctColor) => {
            let colorsArr = [];

            while (colorsArr.length < 4) {
                let randomColor = colors[Math.floor(Math.random() * colors.length)];
                if (!colorsArr.includes(randomColor) && randomColor != correctColor) {
                    colorsArr.push(randomColor);
                }
            }

            return colorsArr;
        };

        document.getElementById("fase01").addEventListener("targetFound", (e) => {
            document.getElementById("container").innerHTML = randomHTML()
        })
        document.getElementById("fase02").addEventListener("targetFound", (e) => {
            alert("Olá")
        })
        document.getElementById("fase03").addEventListener("targetFound", (e) => {
            alert("Olá")
        })
        document.getElementById("fase04").addEventListener("targetFound", (e) => {
            alert("Olá")
        })
        document.getElementById("fase05").addEventListener("targetFound", (e) => {
            alert("Olá")
        })
        document.getElementById("fase06").addEventListener("targetFound", (e) => {
            alert("Olá")
        })
        document.getElementById("fase07").addEventListener("targetFound", (e) => {
            alert("Olá")
        })
        document.getElementById("fase08").addEventListener("targetFound", (e) => {
            alert("Olá")
        })
        document.getElementById("fase09").addEventListener("targetFound", (e) => {
            alert("Olá")
        })
        document.getElementById("fase10").addEventListener("targetFound", (e) => {
            alert("Olá")
        })

        const randomHTML = () => {
            const correctColor = colors[Math.floor(Math.random() * colors.length)]
            const [cor1, cor2, cor3, cor4] = cores(correctColor)
            const [nome1, nome2, nome3, nome4] = cores(correctColor)
            let html = `
            <div>
                <h1 style="color: ${cor4};">${correctColor}</h1>
                <div style="display: flex; justify-content: center; align-items: center;">
                <div>
                    <h1 style="background-color: ${cor1};">${nome1}</h1>
                </div>
                <div>
                    <h1 style="background-color: ${correctColor};">${nome2}</h1>
                </div>
                <div>
                    <h1 style="background-color: ${cor2};">${nome3}</h1>
                </div>
                <div>
                    <h1 style="background-color: ${cor3};">${nome4}</h1>
                </div>
                </div>
            </div>
          `
            return html
        } // ** Verificar se não repete cor
          // Separar em um css
          // Deixar bonito
          // ** Lógica de jogo

    </script>
</body>

</html>